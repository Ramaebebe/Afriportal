(()=>{var e={};e.id=563,e.ids=[563],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},51357:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(74701),s(7099),s(53733),s(59198);var i=s(30170),n=s(45002),r=s(83876),a=s.n(r),l=s(66299),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["client",{children:["quoting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,74701)),"C:\\Users\\TebohoRamaebebe\\OneDrive - Afrirent PTY Ltd\\Documents\\GitHub\\portal2509-ssrfix2\\src\\app\\client\\quoting\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7099)),"C:\\Users\\TebohoRamaebebe\\OneDrive - Afrirent PTY Ltd\\Documents\\GitHub\\portal2509-ssrfix2\\src\\app\\client\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,53733)),"C:\\Users\\TebohoRamaebebe\\OneDrive - Afrirent PTY Ltd\\Documents\\GitHub\\portal2509-ssrfix2\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,59198)),"C:\\Users\\TebohoRamaebebe\\OneDrive - Afrirent PTY Ltd\\Documents\\GitHub\\portal2509-ssrfix2\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\TebohoRamaebebe\\OneDrive - Afrirent PTY Ltd\\Documents\\GitHub\\portal2509-ssrfix2\\src\\app\\client\\quoting\\page.tsx"],m="/client/quoting/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/client/quoting/page",pathname:"/client/quoting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63298:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},59232:(e,t,s)=>{Promise.resolve().then(s.bind(s,82101))},75421:()=>{},99239:(e,t,s)=>{Promise.resolve().then(s.bind(s,39432))},35303:()=>{},82101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,dynamic:()=>c});var i=s(97247),n=s(28964),r=s(42841),a=s(9927);function l({refEl:e,vehicle:t}){let s=(0,n.useCallback)(async()=>{let s=e.current;if(!s)return;let i=(await (0,a.default)(s,{scale:2,useCORS:!0,backgroundColor:"#ffffff"})).toDataURL("image/png"),n=new r.ZP({unit:"px",format:"a4"}),l=n.internal.pageSize.getWidth(),c=n.internal.pageSize.getHeight();n.addImage(i,"PNG",0,0,l,c);let o=`Afrirent_Quote_${t.replace(/[^a-z0-9]+/gi,"_").slice(0,50)}.pdf`;n.save(o)},[e,t]);return i.jsx("button",{className:"btn",onClick:s,children:"Download PDF"})}let c="force-dynamic";function o(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)({mmCode:"",termMonths:48,residualPct:25,rateApr:12.5,mileageKmPerMonth:2e3,maintenanceRpm:450,tyresRpm:180,insuranceRpm:350,adminRpm:99,riskGrade:"B",excessCpkCents:15}),[a,c]=(0,n.useState)(null),o=e.find(e=>e.mmCode===s.mmCode),d=(0,n.useRef)(null),m=(0,n.useMemo)(()=>o?`${o.make} ${o.model} ${o.derivative} (MM ${o.mmCode})`:"",[o]);return(0,i.jsxs)("main",{className:"max-w-4xl",children:[(0,i.jsxs)("div",{className:"card p-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Create Quote"}),i.jsx("p",{className:"section-sub",children:"Pick a vehicle, set the inputs, then calculate and export a branded PDF."}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Vehicle"}),(0,i.jsxs)("select",{className:"input",value:s.mmCode,onChange:e=>r(t=>({...t,mmCode:e.target.value})),children:[i.jsx("option",{value:"",children:"Select..."}),e.map(e=>(0,i.jsxs)("option",{value:e.mmCode,children:[e.make," ",e.model," ",e.derivative," — MM ",e.mmCode," — R",e.capex.toLocaleString()]},e.mmCode))]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Term (months)"}),i.jsx("input",{className:"input",type:"number",value:s.termMonths,onChange:e=>r(t=>({...t,termMonths:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Residual (%)"}),i.jsx("input",{className:"input",type:"number",value:s.residualPct,onChange:e=>r(t=>({...t,residualPct:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"APR (%)"}),i.jsx("input",{className:"input",type:"number",value:s.rateApr,onChange:e=>r(t=>({...t,rateApr:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Mileage (km/mo)"}),i.jsx("input",{className:"input",type:"number",value:s.mileageKmPerMonth,onChange:e=>r(t=>({...t,mileageKmPerMonth:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Maintenance (R/pm)"}),i.jsx("input",{className:"input",type:"number",value:s.maintenanceRpm,onChange:e=>r(t=>({...t,maintenanceRpm:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Tyres (R/pm)"}),i.jsx("input",{className:"input",type:"number",value:s.tyresRpm,onChange:e=>r(t=>({...t,tyresRpm:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Insurance (R/pm)"}),i.jsx("input",{className:"input",type:"number",value:s.insuranceRpm,onChange:e=>r(t=>({...t,insuranceRpm:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Admin (R/pm)"}),i.jsx("input",{className:"input",type:"number",value:s.adminRpm,onChange:e=>r(t=>({...t,adminRpm:+e.target.value}))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Risk Grade (A–E)"}),i.jsx("select",{className:"input",value:s.riskGrade,onChange:e=>r(t=>({...t,riskGrade:e.target.value})),children:["A","B","C","D","E"].map(e=>i.jsx("option",{value:e,children:e},e))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm text-white/70",children:"Excess CPK (c/km)"}),i.jsx("input",{className:"input",type:"number",value:s.excessCpkCents,onChange:e=>r(t=>({...t,excessCpkCents:+e.target.value}))})]})]}),(0,i.jsxs)("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{className:"btn",onClick:()=>{o&&c(function(e){let{capex:t,termMonths:s,residualPct:i,rateApr:n,maintenanceRpm:r,tyresRpm:a,insuranceRpm:l,adminRpm:c}=e,o=n/100/12,d=(t-i/100*t)*o/(1-Math.pow(1+o,-s))+r+a+l+c;return{monthlyPayment:Number(d.toFixed(2)),totalCost:Number((d*s).toFixed(2))}}({...s,capex:o.capex}))},disabled:!o,children:"Calculate"}),a&&i.jsx(l,{refEl:d,vehicle:m,input:s,output:a})]})]}),a&&i.jsx("div",{className:"hidden",children:i.jsx("div",{ref:d,children:(0,i.jsxs)("div",{className:"print-a4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/brand/afrirent_logo.png",alt:"Afrirent",style:{height:40}}),i.jsx("div",{className:"print-h1",children:"Afrirent Mobility — Quotation"})]}),(0,i.jsxs)("div",{className:"print-meta",children:["Generated: ",new Date().toLocaleDateString()]})]}),i.jsx("hr",{style:{margin:"12px 0"}}),i.jsx("div",{className:"print-meta",children:"Vehicle"}),i.jsx("div",{style:{fontWeight:600,marginBottom:8},children:m}),(0,i.jsxs)("table",{className:"print-table",children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"Term (months)"}),i.jsx("th",{children:"Residual %"}),i.jsx("th",{children:"APR %"}),i.jsx("th",{children:"Mileage km/mo"})]})}),i.jsx("tbody",{children:(0,i.jsxs)("tr",{children:[i.jsx("td",{children:s.termMonths}),i.jsx("td",{children:s.residualPct}),i.jsx("td",{children:s.rateApr}),i.jsx("td",{children:s.mileageKmPerMonth})]})})]}),(0,i.jsxs)("table",{className:"print-table",children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"Maintenance"}),i.jsx("th",{children:"Tyres"}),i.jsx("th",{children:"Insurance"}),i.jsx("th",{children:"Admin"}),i.jsx("th",{children:"Risk Grade"})]})}),i.jsx("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["R ",s.maintenanceRpm]}),(0,i.jsxs)("td",{children:["R ",s.tyresRpm]}),(0,i.jsxs)("td",{children:["R ",s.insuranceRpm]}),(0,i.jsxs)("td",{children:["R ",s.adminRpm]}),i.jsx("td",{children:s.riskGrade})]})})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:24,marginTop:16},children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"print-meta",children:"Monthly Payment"}),(0,i.jsxs)("div",{style:{fontSize:24,fontWeight:700},children:["R ",a.monthlyPayment.toLocaleString()]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"print-meta",children:"Total Cost"}),(0,i.jsxs)("div",{style:{fontSize:24,fontWeight:700},children:["R ",a.totalCost.toLocaleString()]})]})]}),i.jsx("div",{style:{marginTop:24,fontSize:12,color:"#444"},children:"Notes: Figures are indicative for budgeting. Final pricing subject to credit approval and signed agreement."}),i.jsx("div",{style:{position:"absolute",right:24,bottom:24,opacity:.08},children:i.jsx("img",{src:"/brand/paw.png",alt:"",style:{height:100}})})]})})})]})}},39432:(e,t,s)=>{"use strict";s.d(t,{default:()=>N});var i=s(97247),n=s(79906),r=s(34178),a=s(90209),l=s(27872),c=s(35216),o=s(79904),d=s(34249),m=s(7553),h=s(14714),u=s(66903),x=s(36949),p=s(57989),b=s(17316),j=s(80987),g=s(19400),v=s(78256);let f=[{href:"/client/dashboard",label:"Dashboard",icon:a.Z},{href:"/client/quoting",label:"Quoting",icon:l.Z},{href:"/client/reports",label:"Reports",icon:c.Z},{href:"/client/maintenance",label:"Maintenance",icon:o.Z},{href:"/client/fuel",label:"Fuel",icon:d.Z},{href:"/client/rebills",label:"Rebills",icon:m.Z},{href:"/client/assets",label:"Assets",icon:h.Z},{href:"/client/invoices",label:"Invoices",icon:u.Z},{href:"/client/entities",label:"Entities",icon:x.Z},{href:"/client/users",label:"Users",icon:p.Z},{href:"/client/settings",label:"Settings",icon:b.Z},{href:"/client/powerbi",label:"Power BI",icon:j.Z}],N=()=>{let e=(0,r.usePathname)(),t=async()=>{await v.N()?.auth.signOut(),window.location.href="/"};return(0,i.jsxs)("nav",{className:"card p-4 sticky top-4",children:[f.map(({href:t,label:s,icon:r})=>(0,i.jsxs)(n.default,{href:t,className:`navlink flex items-center gap-2 ${e===t?"navlink-active":""}`,children:[i.jsx(r,{size:16}),s]},t)),(0,i.jsxs)("button",{onClick:t,className:"navlink w-full text-left flex items-center gap-2 mt-2",children:[i.jsx(g.Z,{size:16})," Sign Out"]})]})}},78256:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var i=s(65696);let n=null;function r(){if(n)return n;let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return e&&t?n=(0,i.eI)(e,t):null}},7099:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var i=s(72051);let n=(0,s(45347).createProxy)(String.raw`C:\Users\TebohoRamaebebe\OneDrive - Afrirent PTY Ltd\Documents\GitHub\portal2509-ssrfix2\src\components\Sidebar.tsx#default`),r=()=>(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/brand/afrirent_logo.png",alt:"Afrirent",width:"34",height:"34"}),i.jsx("div",{className:"text-white/80",children:"Welcome, User"})]});function a({children:e}){return(0,i.jsxs)("div",{children:[i.jsx("div",{className:"bg-gradient-to-r from-brand-700/30 to-brand-500/20 border-b border-white/10",children:i.jsx("div",{className:"container-tight py-4",children:i.jsx(r,{})})}),(0,i.jsxs)("div",{className:"container-tight grid grid-cols-12 gap-6 mt-6",children:[i.jsx("aside",{className:"col-span-12 md:col-span-3 lg:col-span-2",children:i.jsx(n,{})}),i.jsx("div",{className:"col-span-12 md:col-span-9 lg:col-span-10",children:e})]})]})}},74701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r,dynamic:()=>n});var i=s(45347);let n=(0,i.createProxy)(String.raw`C:\Users\TebohoRamaebebe\OneDrive - Afrirent PTY Ltd\Documents\GitHub\portal2509-ssrfix2\src\app\client\quoting\page.tsx#dynamic`),r=(0,i.createProxy)(String.raw`C:\Users\TebohoRamaebebe\OneDrive - Afrirent PTY Ltd\Documents\GitHub\portal2509-ssrfix2\src\app\client\quoting\page.tsx#default`)},53733:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r,metadata:()=>n});var i=s(72051);s(5023);let n={title:"Afrirent Portal",description:"Client analytics & quoting suite"};function r({children:e}){return i.jsx("html",{lang:"en",children:(0,i.jsxs)("body",{children:[e,i.jsx("footer",{className:"mt-28 footer-strip",children:(0,i.jsxs)("div",{className:"container-tight flex items-center justify-between py-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/brand/afrirent_logo.png",alt:"Afrirent",className:"h-8"}),i.jsx("span",{className:"opacity-90 text-sm",children:"A partner on your journey"})]}),i.jsx("span",{className:"text-sm opacity-90",children:"\xa9 2025 Afrirent Mobility"})]})})]})})}},59198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var i=s(72051);function n(){return i.jsx("main",{className:"container-tight py-24",children:(0,i.jsxs)("div",{className:"card p-10 text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",children:"404"}),i.jsx("p",{className:"text-white/70 mb-6",children:"Sorry, the page you’re looking for was not found."}),i.jsx("a",{className:"btn inline-block",href:"/",children:"Go back home"})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[787,398,696,80,695],()=>s(51357));module.exports=i})();