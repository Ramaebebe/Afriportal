(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{91632:function(e,n,t){Promise.resolve().then(t.bind(t,38991))},38991:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o},dynamic:function(){return s}});var l=t(57437),a=t(2265),i=t(26634),r=t(40257);let s="force-dynamic",c=()=>{var e;return(null===(e=r.env.NEXT_PUBLIC_SITE_URL)||void 0===e?void 0:e.replace(/\/$/,""))||window.location.origin};function o(){let[e,n]=(0,a.useState)(""),[t,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(null),u=async n=>{var t,l;n.preventDefault(),o(null);let a="".concat(c(),"/client/dashboard"),{error:s}=await (null!==(l=null===(t=(0,i.N)())||void 0===t?void 0:t.auth.signInWithOtp({email:e,options:{emailRedirectTo:a}}))&&void 0!==l?l:Promise.resolve({error:{message:"Supabase not configured"}}));s?o(s.message):r(!0)};return(0,l.jsxs)("main",{className:"min-h-[88vh] grid place-items-center relative",children:[(0,l.jsx)("img",{src:"/brand/login_background.jpg",alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-60"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,l.jsxs)("form",{onSubmit:u,className:"relative z-10 card p-8 max-w-md w-full shadow-xlsoft",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("img",{src:"/brand/afrirent_logo.png",alt:"Afrirent",className:"h-10"}),(0,l.jsx)("img",{src:"/brand/lion.jpg",alt:"Lion",className:"h-10 w-10 object-cover rounded-full border border-white/20"})]}),(0,l.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Sign in"}),(0,l.jsx)("p",{className:"text-white/70 mb-4",children:"Magic link to your email"}),(0,l.jsx)("input",{className:"input mb-3",type:"email",placeholder:"name@company.com",value:e,onChange:e=>n(e.target.value),required:!0}),(0,l.jsx)("button",{className:"btn w-full",type:"submit",children:"Send magic link"}),t&&(0,l.jsx)("p",{className:"mt-3 text-green-400",children:"Check your inbox for the sign-in link."}),s&&(0,l.jsx)("p",{className:"mt-3 text-red-400",children:s})]})]})}},26634:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var l=t(8439),a=t(40257);let i=null;function r(){if(i)return i;let e=a.env.NEXT_PUBLIC_SUPABASE_URL,n=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return e&&n?i=(0,l.eI)(e,n):null}}},function(e){e.O(0,[439,971,117,744],function(){return e(e.s=91632)}),_N_E=e.O()}]);